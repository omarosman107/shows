<!DOCTYPE html>
<html>
<head>
	<title>CWTV</title>
	<meta content="width=device-width, initial-scale=1" data-react-helmet="true" name="viewport">
	<meta content="website" data-react-helmet="true" property="og:type">
	<meta content="text/html; charset=utf-8" data-react-helmet="true" http-equiv="Content-Type">
		<link rel="apple-touch-icon" sizes="57x57" href="//images.cwtv.com/images/cw/touch-icon-iphone-114.png"/>
	<link rel="apple-touch-icon" sizes="114x114" href="//images.cwtv.com/images/cw/touch-icon-iphone-114.png"/>
	<link rel="apple-touch-icon" sizes="72x72" href="//images.cwtv.com/images/cw/touch-icon-ipad-144.png"/>
	<link rel="apple-touch-icon" sizes="144x144" href="//images.cwtv.com/images/cw/touch-icon-ipad-144.png"/>
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
   <meta content="yes" name="apple-mobile-web-app-capable">
   <meta content="CWTV" name="apple-mobile-web-app-title">
   <meta name="mobile-web-app-capable" content="yes">

	<meta name="application-name" content="The CW Network"/>
	<meta content="IE=9;IE=10;IE=Edge,chrome=1" http-equiv="X-UA-Compatible">
	<link href="https://upload.wikimedia.org/wikipedia/commons/4/4c/The_CW.svg" rel="shortcut icon">
	<link href="css/cwbeta.css" rel="stylesheet" type="text/css">
	<link href="css/graphik-400.css" rel="stylesheet" type="text/css">
	<style type="text/css">
	..Home_heroImagePoster_C3La1{
		    visibility: hidden;
		    opacity: 0;
		}
		img {
			    max-width: 100%;
		}

.w3-progressbar {
    background-color: #e50914;
    line-height: inherit;
    -webkit-transform: translateZ(0);
    transform: translateZ(0);
    will-change: width,opacity;
    height: .25rem;
    position: absolute;
    z-index: 8;
    bottom: 0;
}
.PrimeTimeGrid_row_2-FSr .PrimeTimeGrid_tile_MaRMD {
    display: inline-block;
}
	</style>
</head>
<body style="">
	<div class="container">
		<div class="undefined ft-theme-provider" data-reactroot="">
			<!-- react-empty: 2 --><!-- react-empty: 3 --><!-- react-empty: 4 --><!-- react-empty: 5 --><!-- react-empty: 6 -->
			<header class="Header_container_3Mm30 Header_containerListPage_3Hk9W">
				<div class="headroom-wrapper" style="height: 95px;">
					<div class="headroom headroom--pinned headroom--scrolled">
						<div></div>
						<div>
							<div class="Header_content_kKyHc">
								<div class="Header_innerContent_JKfQO">
									<div class="Header_logoProviderWrapper_2rBoE">
										<a class="Header_logo_36txl" href="/"><img alt="CW" src="cwlogo.svg"></a>
									</div>
								</div>
								<div class="Header_categories_3zGkq">
									<div>
										<a onclick="showHandle()"  style="    display: inline-block;    padding: .5900em;" class="Header_categoryItem_2_wKp" href="#">Shows</a>
									</div>
								</div>
								
						</div>
					</div>
				</div>
			</header>
			<div >
				<main style="display: none;" id="shows_cont" class="ft-header-content" role="main">
	<div>
		<div>
			<div class="Shows_screen_3dtIQ AltHeader_altHeaderContent_C2zjB">
				<div>
					<div>
						<div class="TileGrid_container_S_Mnl TileGrid_grid-4-1_WGcEN">
							<div id="all_shows" class="TileGrid_grid_vrnLT">
								
							</div>
						</div>

					</div>
				</div>
			</div>
		</div><!-- react-empty: 3201 -->
	</div>
</main>
<div>
	<div style="margin: auto;padding: 2vw">
	<div id="upcoming" style="display: none;" class="PrimeTimeGrid_gridWrapper_Yt-EU">
		<div id="schedule" name="PRIME_TIME_GRID_SCROLL_PREFIX2017-10-12">
			<div class="PrimeTimeGrid_dateHeader_33m0m">
			</div>
	<div>
			</div>
			
		</div>
	</div>
</div>
</div>


			</div>
			<main class=" ft-header-content" role="main">
				<div class="Home_screen_KPW1X">
					<!-- react-empty: 1293 -->
					<div id="newestEpisodes" class="">
						
						</div>
						<div id="shows"></div>
					</div>
				
				</div>
			</main><!-- react-empty: 697 -->
		</div>
	</div>
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-5412379373221349",
    enable_page_level_ads: true
  });
</script>
	<style>
	       @import "css/graphik-500.css";
	       @import "css/graphik-700.css";
	</style>
	<script type="text/javascript">
function abtAir(){
	if (document.querySelector('#upcoming').style.display == 'none') {
				document.querySelector('#upcoming').style.display = 'block';
			}else{
				document.querySelector('#upcoming').style.display = 'none';
			}
}

		function showHandle(){
			if (document.querySelector('#shows_cont').style.display == 'none') {
				document.querySelector('#shows_cont').style.display = 'block';
			}else{
				document.querySelector('#shows_cont').style.display = 'none';
			}
		}
		fetch('http://images.cwtv.com/feed/mobileapp/schedule').then(function(res){return res.json()}).then(function(json){
			console.log(json.items)
			json.items = json.items.reverse()
			for (var i = json.items.length - 1; i >= 0; i--) {
				var date = new Date(json.items[i].episode_date)
				document.getElementById('schedule').innerHTML += `<div class="PrimeTimeGrid_row_2-FSr">
				<div class="PrimeTimeGrid_tile_MaRMD">
					<div class="Tile_tile_3qaLc PrimeTimeGrid_tile_MaRMD Tile_tile-image-left_P76vs">
						<div class="Tile_imageContainer_2rTWR PrimeTimeGrid_imageContainer_fkUuD">
							<a>
							<div>
								<div class="LazyLoad is-visible"><img alt="" class="Tile_image_19KoQ" src="									http://images.cwtv.com/thecw/img/w_638.s_mobile.i_video_thumbnail.guid_${json.items[i].video_guid}.jpg"></div>
								<div class="Tile_play_1CN22">
									<svg class="Icon_icon_BJu7i Icon_full_btXpr Icon_white_1pDlt" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24">
									<g>
										<circle cx="12.041" cy="12.041" id="Oval-3" r="11.041" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke: rgb(255, 255, 255); stroke-width: 2px;"></circle>
										<g id="arrow">
											<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872" id="Fill-1"></path>
											<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872Z" id="Stroke-3" style="fill: none; stroke: rgb(255, 255, 255); stroke-width: 0.14px;"></path>
										</g>
									</g></svg>
								</div>
								<div class="Tile_badge_2U8On PrimeTimeGrid_badge_YE2RE">
									new
								</div>
							</div></a>
						</div>
						<div class="Tile_details_9UwiV PrimeTimeGrid_details_36P1n">
							<div class="Tile_info_28rKd PrimeTimeGrid_info_16JQT">
								<div class="Tile_badge_2U8On PrimeTimeGrid_badge_YE2RE">
									new
								</div><a class="Tile_title_2XOxg PrimeTimeGrid_title_254IQ" href="#">
								<div>
								${json.items[i].show_title}

								</div></a>
								<div class="Tile_subtitle_OzXVN PrimeTimeGrid_subtitle_32Nfk">
									E${json.items[i].episode_number} ${json.items[i].episode_title}

								</div>
								<div class="Tile_description_3584P PrimeTimeGrid_description_1-sX9">
																		${json.items[i].episode_description}

								</div>
																<p class="Tile_metadata_3Snvo PrimeTimeGrid_metadata_2yMNJ">${date.toDateString()
}</p>

							</div>
						</div>
					</div>
				</div>
				<div class="PrimeTimeGrid_cta_3zsTs">
					<div></div>
				</div>
				<div class="PrimeTimeGrid_time_3SrRI">
					<span>${date.getHours() - 12 + ":" + date.getMinutes() + '0' + 'pm'} ET</span>
				</div>
			</div>
`
			}
		})
fetch('http://images.cwtv.com/feed/mobileapp/videos/apiversion_7/show_hub?bust=' + (new Date()).getTime(),{
	    cache: "no-store"

}).then(function(res){return res.json();}).then(function(newEpisodes){
	var temp = {videos:[]}
for (i = 0; i < newEpisodes.videos.length; i++) {
	if (newEpisodes.videos[i].show_type == 'cw-network' && newEpisodes.videos[i].fullep) {
			temp.videos.push(newEpisodes.videos[i])

	}
}
newEpisodes = temp
console.log(temp)
var otherEpisodes = ``

for (i = 0; i < 4; i++) {
	if (i == 0) {continue;}
	//  /  
	var perc = localStorage['?' + newEpisodes.videos[i].share_url + '/'] /  newEpisodes.videos[i].duration_secs * 100 + '%'
	otherEpisodes += `<div class="Tile_tile_3qaLc Tile_clickable_3dKX4">
											<div class="Tile_imageContainer_2rTWR homeTile_imageContainer_24TTT">
												<a href="play.html?${newEpisodes.videos[i].share_url}/">
												<div>
													<div class="LazyLoad is-visible"><img alt="" class="Tile_image_19KoQ" src="${newEpisodes.videos[i].large_thumbnail}"><div class="w3-progressbar" style="
    width: ${perc};
"></div></div>
													<div class="Tile_play_1CN22">
														<svg class="Icon_icon_BJu7i Icon_full_btXpr Icon_white_1pDlt" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
														<g>
															<circle cx="12.041" cy="12.041" id="Oval-3" r="11.041" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke: rgb(255, 255, 255); stroke-width: 2px;"></circle>
															<g id="arrow">
																<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872" id="Fill-1"></path>
																<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872Z" id="Stroke-3" style="fill: none; stroke: rgb(255, 255, 255); stroke-width: 0.14px;"></path>
															</g>
														</g></svg>
													</div>
													<div class="Tile_badge_2U8On homeTile_badge_2aP5n">
														New
													</div>
													<div class="Tile_networkIcon_3G2SX homeTile_networkIcon_33Jus"><img src="http://images.cwtv.com/images/cw/show-logo-horz/${newEpisodes.videos[i].show_slug}.png"></div>
												</div></a>
											</div>
											<div class="Tile_details_9UwiV homeTile_details_2zbfJ Tile_toggleEnabled_19ebQ">
												<div class="Tile_info_28rKd">
													<div class="Tile_badge_2U8On homeTile_badge_2aP5n">
														New
													</div><a class="Tile_title_2XOxg homeTile_title_10MKO" href="#${newEpisodes.videos[i].show_slug}">
													<div>
														${newEpisodes.videos[i].series_name}
													</div></a><a class="Tile_subtitle_OzXVN" href="play.html?${newEpisodes.videos[i].share_url}">
													<div class="Tile_subtitleWrapper_1Vr9o">
														<div class="Tile_subtitleText_2yDSn">
															<span><!-- react-text: 1503 -->${newEpisodes.videos[i].availability_asset_id.split('-')[newEpisodes.videos[i].availability_asset_id.split('-').length - 1]} </span>
															<div class="Tile_subtitleLastWord_2XP1a">
																<span>${newEpisodes.videos[i].title}</span>
																
															</div>
														</div>
													</div></a>
													<p class="Tile_metadata_3Snvo">Aired ${newEpisodes.videos[i].airdate} • ${newEpisodes.videos[i].rating}</p><button class="Tile_dotdotdot_68H99">• • •</button>
												</div>
												<div class="Tile_moreInfo_2BKot homeTile_moreInfo_3wN9_">
													<div>
														<div class="Tile_description_3584P homeTile_description_1Nhon">
															Marge and Lisa decide to turns an unpleasant experience Lisa had into a successful graphic novel.
														</div><a class="Tile_descLink_2_Kvd homeTile_descLink_287Au" href="/the-simpsons/">More Episodes</a>
													</div><button class="Tile_x_1AuLq"><svg class="Icon_icon_BJu7i Icon_full_btXpr Icon_black_1G5R8" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
													<g>
														<path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path>
													</g></svg></button>
												</div>

											</div>
										</div>
										


`
}

	var min_left = ''
 			if ((localStorage['?' + newEpisodes.videos[0].share_url ])) {
 				   min_left =  			`• ${Math.floor((newEpisodes.videos[0].duration_secs - (localStorage['?' + newEpisodes.videos[0].share_url ]))/60)} mins left` 
 			}
 			if (min_left == '0 mins left') {
 				min_left = ''
 			}
document.querySelector('#newestEpisodes').innerHTML = `<div class="card Home_slide_1puOI Home_first_1_dzM Home_active_2l4lg Home_inactive_22OUv">
						<div name="ALL_COLLECTIONS_SCROLL_PREFIX_0">
							<div class="Home_heroImageContainer_2Cj1c">
								<div class="Home_heroImagePoster_C3La1" style="
								  background-image:       url('${newEpisodes.videos[0].large_thumbnail.replace('720x400','1920x1080')}');

		
								"></div>
							</div>
							<div>
								<div class="HomeSlideHeader_container_1HOU-" data-name="CW Presents">
									<div class="HomeSlideHeader_header_25z0a">
										<div class="HomeSlideHeader_imageAndText_16S3F">
											<h2 class="HomeSlideHeader_headline_3_T_5"><img alt="CW Presents" src="cwlogo.svg"><span class="HomeSlideHeader_text_XnfMG">Presents</span></h2>
										</div>
									</div>
									<div class="HomeSlideHeader_infoContainer_3jTzz ft-homeSlideHeader">
										<span class="HomeSlideHeader_badge_tj27h">NEW</span><a class="HomeSlideHeader_showName_J8m0c" href="/ghosted/">${newEpisodes.videos[0].series_name}</a>
										<div class="HomeSlideHeader_description_1rcQk">
											<span class="HomeSlideHeader_highlight_3OVd4">${newEpisodes.videos[0].availability_asset_id.split('-')[newEpisodes.videos[0].availability_asset_id.split('-').length - 1]} ${newEpisodes.videos[0].title}</span><a class="HomeSlideHeader_toggle_dr219"><svg class="Icon_icon_BJu7i Icon_medium_1QgKp Icon_grey_3A_Zm" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
											<g>
												<path d="M7.41 7.84l4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z"></path>
											</g></svg></a>
										</div>
										<div class="HomeSlideHeader_meta_2M-Vy">
											Aired ${newEpisodes.videos[0].airdate} • ${newEpisodes.videos[0].rating}  ${min_left}
										</div>
										<div class="HomeSlideHeader_buttons_2hSs6">
											<a class="HomeSlideHeader_showButton_ryBcr primaryButton" href="play.html?${newEpisodes.videos[0].share_url}"><svg class="Icon_icon_BJu7i Icon_white_1pDlt" preserveAspectRatio="xMidYMid meet" viewBox="0 0 24 24">
											<g>
												<circle cx="12.041" cy="12.041" id="Oval-3" r="11.041" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke: rgb(255, 255, 255); stroke-width: 2px;"></circle>
												<g id="arrow">
													<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872" id="Fill-1"></path>
													<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872Z" id="Stroke-3" style="fill: none; stroke: rgb(255, 255, 255); stroke-width: 0.14px;"></path>
												</g>
											</g></svg><!-- react-text: 1474 -->Watch<!-- /react-text --></a><a class="HomeSlideHeader_moreLink_2lqBL" href="#${newEpisodes.videos[0].show_slug}">More Episodes</a>
										</div>
									</div>
								</div>
							</div>
							<div>
								<div class="TileGrid_container_S_Mnl Home_container_1VKQ1 TileGrid_grid-4-1_WGcEN">
									<div class="TileGrid_grid_vrnLT">
								${otherEpisodes}		
									</div>
										

					</div>`

})



 

 fetch('http://images.cwtv.com/feed/mobileapp/shows/apiversion_7/channel_cwtv/pagesize_100').then(function(res){
 	return res.json();
 }).then(function(shows){
 	console.log(shows)
 	var l  = []
 		 shows.items = shows.items.sort(function(x, y) {
a = y.title.toLowerCase();
b = x.title.toLowerCase();
    return a < b ? 1 : -1;
  }).forEach(function(x) {
    l.push(x)
  });
shows.items = l.reverse()
console.log(shows.items)
 	for (var i = shows.items.length - 1; i >= 0; i--) {
 		if (shows.items[i].show_type == 'cw-seed' || shows.items[i].slug == 'more-video' || shows.items[i].airtime  == "COMING SOON") {
 			continue;
 		}
 		

document.querySelector('#all_shows').innerHTML += `<div class="Tile_tile_3qaLc MovieTile_tile_1a04u Tile_fadeAnimated_1K79m Tile_clickable_3dKX4" style="opacity: 1; animation: none;">
									<div class="Tile_imageContainer_2rTWR">
										<a href="#${shows.items[i].slug}">
										<div>
											<div class="LazyLoad is-visible"><img alt="" class="Tile_image_19KoQ" src="http://images.cwtv.com/thecw/img/s_mobile.i_show_thumbnail.show_${shows.items[i].slug}.v_7.w_600.jpg"></div>
											<div class="Tile_networkIcon_3G2SX"></div>
										</div></a>
									</div>
									<div class="Tile_details_9UwiV">
										<div class="Tile_info_28rKd">
											<a class="Tile_title_2XOxg MovieTile_title_1u6rs" href="#${shows.items[i].slug}">
											<div>
												${shows.items[i].title}
											</div></a>
										</div>
									</div>
								</div>
								`
 		fetch('http://images.cwtv.com/feed/mobileapp/videos/apiversion_7/show_'+shows.items[i].slug + '?bust=' + (new Date).getTime() ).then(function(res){return res.json();}).then(function(videos){
 			var totalEpi = ''

 			videos.videos = videos.videos.reverse();
var temp = {videos:[]}
 			videos.videos = videos.videos.reverse()
for (var i = videos.videos.length - 1; i >= 0; i--) {
	if (videos.videos[i].show_type == 'cw-network' && videos.videos[i].fullep) {
			temp.videos.push(videos.videos[i])

	}
}

videos = temp
 			console.log(temp)
 			original = videos.videos[videos.videos.length - 1]

 			for (i = 0; i < videos.videos.length; i++) {
 				if (!videos.videos[i].fullep) {continue;}
 				if (i == videos.videos.length - 1){continue;}
 					var perc = (localStorage['?' + videos.videos[i].share_url ]) /  videos.videos[i].duration_secs * 100 + '%'

 				totalEpi += `<div class="Tile_tile_3qaLc Tile_clickable_3dKX4">
						<div class="Tile_imageContainer_2rTWR homeTile_imageContainer_24TTT">
							<a href="play.html?${videos.videos[i].share_url}">
							<div>
<div class="LazyLoad "><img alt="" class="Tile_image_19KoQ" data-original="${videos.videos[i].large_thumbnail}"><div class="w3-progressbar" style="
    width: ${perc};
"></div></div>

								<div class="Tile_play_1CN22">
									<svg class="Icon_icon_BJu7i Icon_full_btXpr Icon_white_1pDlt" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24">
									<g>
										<circle cx="12.041" cy="12.041" id="Oval-3" r="11.041" style="fill: rgb(0, 0, 0); fill-opacity: 0; stroke: rgb(255, 255, 255); stroke-width: 2px;"></circle>
										<g id="arrow">
											<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872" id="Fill-1"></path>
											<path d="M17.099,12.444l-7.656,4.352c-0.341,0.194 -0.767,-0.048 -0.767,-0.436l0,-8.703c0,-0.388 0.426,-0.631 0.767,-0.437l7.656,4.352c0.341,0.194 0.341,0.679 0,0.872Z" id="Stroke-3" style="fill: none; stroke: rgb(255, 255, 255); stroke-width: 0.14px;"></path>
										</g>
									</g></svg>
								</div>
							
								<div class="Tile_networkIcon_3G2SX homeTile_networkIcon_33Jus"><img src="http://images.cwtv.com/images/cw/show-logo-horz/${videos.videos[i].show_slug}.png"></div>
							</div></a>
						</div>
						<div class="Tile_details_9UwiV homeTile_details_2zbfJ Tile_toggleEnabled_19ebQ">
							<div class="Tile_info_28rKd">
								<div class="Tile_badge_2U8On homeTile_badge_2aP5n">
									New
								</div><a class="Tile_title_2XOxg homeTile_title_10MKO" href="#${videos.videos[i].show_slug}">
								<div>
									${videos.videos[i].series_name}
								</div></a> <a class="Tile_subtitle_OzXVN" href="play.html?${videos.videos[i].share_url}">
								<div class="Tile_subtitleWrapper_1Vr9o">
									<div class="Tile_subtitleText_2yDSn">
										<span>${videos.videos[i].availability_asset_id.split('-')[videos.videos[i].availability_asset_id.split('-').length - 1]}</span>
										<div class="Tile_subtitleLastWord_2XP1a">
											<span>${videos.videos[i].title}</span>
										</div>
									</div>
								</div></a>
								<p class="Tile_metadata_3Snvo">Aired ${videos.videos[i].airdate} • ${videos.videos[i].rating}</p><button class="Tile_dotdotdot_68H99">• • •</button>
							</div>
							<div class="Tile_moreInfo_2BKot homeTile_moreInfo_3wN9_">
								<div>
									<a class="Tile_descLink_2_Kvd homeTile_descLink_287Au" href="#${videos.videos[i].show_slug}">More Episodes</a>
								</div><button class="Tile_x_1AuLq"><svg class="Icon_icon_BJu7i Icon_full_btXpr Icon_black_1G5R8" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24">
								<g>
									<path d="M19 6.41l-1.41-1.41-5.59 5.59-5.59-5.59-1.41 1.41 5.59 5.59-5.59 5.59 1.41 1.41 5.59-5.59 5.59 5.59 1.41-1.41-5.59-5.59z"></path>
								</g></svg></button>
							</div>
						</div>
					</div>
					`
 			}

 			if (totalEpi == '') {return;}
 			/// ${videos.videos[0].series_name}
 			var min_left = ''
 			if ((localStorage['?' + original.share_url ])) {
 				   min_left =  			`• ${Math.floor((original.duration_secs - (localStorage['?' + original.share_url ]))/60)} mins left` 
 			}
 			if (min_left == '0 mins left') {
 				min_left = ''
 			}
 			document.querySelector('#newestEpisodes').innerHTML += `<div id="${original.show_slug}" class="card  Home_slide_1puOI">
	<div name="ALL_COLLECTIONS_SCROLL_PREFIX_10">
		<div class="Home_heroImageContainer_2Cj1c">
			<div class="Home_heroImagePoster_C3La1" style="background-image: url(${original.large_thumbnail.replace('720x400','1920x1080')});"></div>
		</div>
		<div>
			<div class="HomeSlideHeader_container_1HOU-" data-name="New Episodes" id="">
				<div class="HomeSlideHeader_header_25z0a">
					<div class="">
						<h2 class="HomeSlideHeader_headline_3_T_5"><span class="HomeSlideHeader_text_XnfMG"><img src="http://images.cwtv.com/images/cw/show-logo-horz/${original.show_slug}.png"></div></span></h2>
					</div>
				</div>
				<div class="HomeSlideHeader_infoContainer_3jTzz ft-homeSlideHeader">
					<span class="HomeSlideHeader_badge_tj27h">NEW</span><a class="HomeSlideHeader_showName_J8m0c" href="#${original.show_slug}">${original.series_name}</a>
					<div class="HomeSlideHeader_description_1rcQk">
						<span class="HomeSlideHeader_highlight_3OVd4">${original.availability_asset_id.split('-')[original.availability_asset_id.split('-').length - 1]} ${original.title}</span><a class="HomeSlideHeader_toggle_dr219"><svg class="Icon_icon_BJu7i Icon_medium_1QgKp Icon_grey_3A_Zm" preserveaspectratio="xMidYMid meet" viewbox="0 0 24 24">
						<g>
							<path d="M7.41 7.84l4.59 4.58 4.59-4.58 1.41 1.41-6 6-6-6z"></path>
						</g></svg></a>
					</div>
					<div class="HomeSlideHeader_meta_2M-Vy">
						Aired ${original.airdate} • ${original.rating} ${min_left}
					</div>
					<div class="HomeSlideHeader_buttons_2hSs6">
						<a class="HomeSlideHeader_showButton_ryBcr primaryButton" href="play.html?${original.share_url}"><!-- react-text: 2892 -->Watch<!-- /react-text --></a>
					</div>
				</div>
			</div>
		</div>
		<div>
			<div class="TileGrid_container_S_Mnl Home_container_1VKQ1 TileGrid_grid-4-1_WGcEN">
				<div class="TileGrid_grid_vrnLT">
					
					
					${totalEpi}
					
				
					
					
					
					
				</div>
			
				<hr class="TileGrid_hr_v420K Home_hr_18tZa">
			</div>
		</div>
	</div>
</div>
<ins class="adsbygoogle"
     style="display:block"
     data-ad-format="fluid"
     data-ad-layout-key="-gu-c+2p-30-2w"
     data-ad-client="ca-pub-5412379373221349"
     data-ad-slot="1960625880"></ins>

`





    var li = new IntersectionObserver(
    entries => {
for (i in entries){

// ||  entries[i].boundingClientRect.bottom > -50 
if(entries[i].isIntersecting || entries[i].intersectionRatio > 0 ){
if(entries[i].target.hasAttribute('data-original-set')){
	try{

li.unobserve(entries[i].target);
entries[i].target.srcset =  entries[i].target.getAttribute('data-original-set');
entries[i].target.removeAttribute('data-original-set')
}catch(e){

}

  };
    if(entries[i].target.hasAttribute('data-original')){
try{
	li.unobserve(entries[i].target);
entries[i].target.src =  entries[i].target.getAttribute('data-original');
entries[i].target.removeAttribute('data-original')

}catch(e){

}
    
  };



}
}
    },
    {
    }
);
// Start observing an element
var Lazyelements = document.querySelectorAll('.LazyLoad img')
for (var i = Lazyelements.length - 1; i >= 0; i--) {
Lazyelements[i].onload = function(element) {
if (!element.target.classList.contains('is-visible')) {
element.target.classList.add('is-visible');



}
}


li.observe(Lazyelements[i])
}		









var options = {
  rootMargin: "0px",
  threshold: [0,.3,.6,1.0]
}

    var io = new IntersectionObserver(
    entries => {

    	

for (i in entries){


// ||  entries[i].boundingClientRect.bottom > -50 
if( entries[i].isIntersecting){

entries[i].target.querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0.6;
entries[i].target.querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'visible'
}else{

entries[i].target.querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0
entries[i].target.querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'hidden'
}
}
    },
    {
    }
,options);

// Start observing an element
/*
var Lazyelements = document.querySelectorAll('.card')
for (var i = Lazyelements.length - 1; i >= 0; i--) {
io.observe(Lazyelements[i])
}
*/
(adsbygoogle = window.adsbygoogle || []).push({})

 		})

 	}
 })

function percEl(element){
	var pageHeight = document.body.scrollHeight;
var el = element
var elPos = el.getBoundingClientRect();
var elTop = elPos.top;
return  ((elTop / pageHeight)*100)
}

function elementInViewport2(el) {

  var top = el.offsetTop;
  var left = el.offsetLeft;
  var width = el.offsetWidth;
  var height = el.offsetHeight;

  while(el.offsetParent) {
    el = el.offsetParent;
    top += el.offsetTop;
    left += el.offsetLeft;
  }

  return (
    top < (window.pageYOffset + window.innerHeight) &&
    left < (window.pageXOffset + window.innerWidth) &&
    (top + height) > window.pageYOffset &&
    (left + width) > window.pageXOffset
  );
}
function calculateVisibilityForDiv(div$) {


  var windowHeight = window.innerWidth || document.documentElement.clientWidth,
    docScroll = window.scrollTop || document.body.scrollTop,
    divPosition = div$.offsetTop,
  divHeight = div$.offsetHeight || div$.clientHeight,
    hiddenBefore = docScroll - divPosition,
    hiddenAfter = (divPosition + divHeight) - (docScroll + windowHeight);

  if ((docScroll > divPosition + divHeight) || (divPosition > docScroll + windowHeight)) {
    return 0;
  } else {
    var result = 100;

    if (hiddenBefore > 0) {
      result -= (hiddenBefore * 100) / divHeight;
    }

    if (hiddenAfter > 0) {
      result -= (hiddenAfter * 100) / divHeight;
    }

    return result;
  }
}

function repbg(){
	var maxperc = 0
	var maxelem
	var Lazyelements = document.querySelectorAll('.card')

for (var i = Lazyelements.length - 1; i >= 0; i--) {
	if (!elementInViewport2(Lazyelements[i])) {
	Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0
Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'hidden'
		continue;
	}
console.log(Lazyelements[i])
if (calculateVisibilityForDiv(Lazyelements[i]) >= maxperc) {
	/*
		Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0.6
Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'visible'
*/
maxperc = calculateVisibilityForDiv(Lazyelements[i])
maxelem = Lazyelements[i]
}else{
	Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0
Lazyelements[i].querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'hidden'
}
}
maxperc = 0
console.log(maxperc,maxelem)
	maxelem.querySelector('.Home_heroImagePoster_C3La1').style.opacity = 0.6
maxelem.querySelector('.Home_heroImagePoster_C3La1').style.visibility = 'visible'
}
window.addEventListener('scroll', function() {
repbg()
});

	</script>

	<script type="text/javascript">
		!function(t,e){"use strict";function n(t){this.time=t.time,this.target=t.target,this.rootBounds=t.rootBounds,this.boundingClientRect=t.boundingClientRect,this.intersectionRect=t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,o=this.intersectionRect,i=o.width*o.height;this.intersectionRatio=n?i/n:this.isIntersecting?1:0}function o(t,e){var n=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=r(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map(function(t){return t.value+t.unit}).join(" ")}function i(){return t.performance&&performance.now&&performance.now()}function r(t,e){var n=null;return function(){n||(n=setTimeout(function(){t(),n=null},e))}}function s(t,e,n,o){"function"==typeof t.addEventListener?t.addEventListener(e,n,o||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function h(t,e,n,o){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,o||!1):"function"==typeof t.detatchEvent&&t.detatchEvent("on"+e,n)}function c(t,e){var n=Math.max(t.top,e.top),o=Math.min(t.bottom,e.bottom),i=Math.max(t.left,e.left),r=Math.min(t.right,e.right),s=r-i,h=o-n;return s>=0&&h>=0&&{top:n,bottom:o,left:i,right:r,width:s,height:h}}function u(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(t,e){for(var n=e;n;){if(n==t)return!0;n=l(n)}return!1}function l(t){var e=t.parentNode;return e&&11==e.nodeType&&e.host?e.host:e}if("IntersectionObserver"in t&&"IntersectionObserverEntry"in t&&"intersectionRatio"in t.IntersectionObserverEntry.prototype)"isIntersecting"in t.IntersectionObserverEntry.prototype||Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var p=[];o.prototype.THROTTLE_TIMEOUT=100,o.prototype.POLL_INTERVAL=null,o.prototype.observe=function(t){if(!this._observationTargets.some(function(e){return e.element==t})){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},o.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter(function(e){return e.element!=t}),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},o.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},o.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},o.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter(function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]})},o.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map(function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}});return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},o.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(s(t,"resize",this._checkForIntersections,!0),s(e,"scroll",this._checkForIntersections,!0),"MutationObserver"in t&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},o.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,h(t,"resize",this._checkForIntersections,!0),h(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},o.prototype._checkForIntersections=function(){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach(function(o){var r=o.element,s=u(r),h=this._rootContainsTarget(r),c=o.entry,a=t&&h&&this._computeTargetAndRootIntersection(r,e),l=o.entry=new n({time:i(),target:r,boundingClientRect:s,rootBounds:e,intersectionRect:a});c?t&&h?this._hasCrossedThreshold(c,l)&&this._queuedEntries.push(l):c&&c.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)},this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},o.prototype._computeTargetAndRootIntersection=function(n,o){if("none"!=t.getComputedStyle(n).display){for(var i=u(n),r=l(n),s=!1;!s;){var h=null,a=1==r.nodeType?t.getComputedStyle(r):{};if("none"==a.display)return;if(r==this.root||r==e?(s=!0,h=o):r!=e.body&&r!=e.documentElement&&"visible"!=a.overflow&&(h=u(r)),h&&!(i=c(h,i)))break;r=l(r)}return i}},o.prototype._getRootRect=function(){var t;if(this.root)t=u(this.root);else{var n=e.documentElement,o=e.body;t={top:0,left:0,right:n.clientWidth||o.clientWidth,width:n.clientWidth||o.clientWidth,bottom:n.clientHeight||o.clientHeight,height:n.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(t)},o.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map(function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100}),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},o.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,o=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==o)for(var i=0;i<this.thresholds.length;i++){var r=this.thresholds[i];if(r==n||r==o||r<n!=r<o)return!0}},o.prototype._rootIsInDom=function(){return!this.root||a(e,this.root)},o.prototype._rootContainsTarget=function(t){return a(this.root||e,t)},o.prototype._registerInstance=function(){p.indexOf(this)<0&&p.push(this)},o.prototype._unregisterInstance=function(){var t=p.indexOf(this);-1!=t&&p.splice(t,1)},t.IntersectionObserver=o,t.IntersectionObserverEntry=n}}(window,document);




	


	</script>
	<script async defer src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js">\</script>
  <script>
   (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
   (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
   m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
   })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

   ga('create', 'UA-66082501-10', 'auto');
   ga('send', 'pageview');

  </script>
</body>
</html>